<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta content='width=device-width, initial-scale=1.0' name='viewport'>
    <meta content='' name='description'>
    <meta content='Nils Nordman' name='author'>
    <link href='/images/howl.png' rel='shortcut icon'>
    <title>Howl :: Spec - howl.ui.List</title>
    <link href="/stylesheets/bootstrap.min.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/justified-nav.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/syntax.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="/stylesheets/howl.css" media="screen" rel="stylesheet" type="text/css" />
  </head>
  <body class='doc doc_spec doc_spec_ui doc_spec_ui_list_spec'>
    <div class='container'>
      <div class='masthead'>
        <ul class='nav nav-justified'>
          <li>
            <a href='/'>Home</a>
          </li>
          <li>
            <a href='/doc/'>Documentation</a>
          </li>
          <li>
            <a href='/contact.html'>Contact</a>
          </li>
        </ul>
      </div>
      <div class="spec-group spec-group-1">&#x000A;&#x000A;<h1 id="howl.ui.list">howl.ui.List</h1>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">sci</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Scintilla</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">ActionBuffer</span><span class="w"> </span><span class="n">sci</span><span class="w">&#x000A;</span><span class="n">sci</span><span class="p">.</span><span class="n">listener</span><span class="w"> </span><span class="o">=</span><span class="w">&#x000A;  </span><span class="ss">on_text_inserted:</span><span class="w"> </span><span class="n">buf</span><span class="o">\</span><span class="n">_on_text_inserted</span><span class="w">&#x000A;  </span><span class="ss">on_text_deleted:</span><span class="w"> </span><span class="n">buf</span><span class="o">\</span><span class="n">_on_text_deleted</span><span class="w">&#x000A;&#x000A;</span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">nil</span><span class="w">&#x000A;&#x000A;</span><span class="n">before_each</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">&#x000A;  </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">''</span><span class="w">&#x000A;  </span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span></pre>&#x000A;&#x000A;<h4 id="#-returns-the-number-of-items"># returns the number of items</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="o">#</span><span class="n">list</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span></pre>&#x000A;&#x000A;<h4 id=".showing()-returns-true-if-the-list-is-currently-showing">.showing() returns true if the list is currently showing</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">assert</span><span class="p">.</span><span class="n">is_false</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">showing</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">is_true</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">showing</span></pre>&#x000A;&#x000A;<h4 id="shows-single-column-items-each-on-one-line">shows single column items each on one line</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'twö'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="s1">'one\ntwö\nthree\n'</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span></pre>&#x000A;&#x000A;<h4 id="allows-items-to-be-chunks">allows items to be Chunks</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">source_buf</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">Buffer</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">source_buf</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'source'</span><span class="w">&#x000A;</span><span class="n">chunk</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">source_buf</span><span class="o">\</span><span class="n">chunk</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">chunk</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="s1">'source\n'</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span></pre>&#x000A;&#x000A;<h4 id="shows-multi-column-items-each-on-one-line,-in-separate-columns">shows multi column items each on one line, in separate columns</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w">&#x000A;  </span><span class="p">{</span><span class="s1">'first'</span><span class="p">,</span><span class="w"> </span><span class="s1">'item one'</span><span class="p">},</span><span class="w">&#x000A;  </span><span class="p">{</span><span class="s1">'second'</span><span class="p">,</span><span class="w"> </span><span class="s1">'item two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="sh">[[&#x000A;first  item one&#x000A;second item two&#x000A;]]</span></pre>&#x000A;&#x000A;<h4 id="shows-nothing-for-an-empty-list">shows nothing for an empty list</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'\n'</span></pre>&#x000A;&#x000A;<h4 id="skips-the-trailing-newline-if-.trailing_newline-is-false">skips the trailing newline if .trailing_newline is false</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">trailing_newline</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one\ntwo'</span></pre>&#x000A;&#x000A;<h4 id="it-is-styled-using-the-list_caption-style">it is styled using the list_caption style</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'first'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Caption'</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="s1">'list_caption'</span></pre>&#x000A;&#x000A;<h4 id="shows-headers,-if-given,-above-the-items">shows headers, if given, above the items</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="s1">'first'</span><span class="p">,</span><span class="w"> </span><span class="s1">'item one'</span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'Column 1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Column 2'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="sh">[[&#x000A;Column 1 Column 2&#x000A;first    item one&#x000A;]]</span></pre>&#x000A;&#x000A;<h4 id=".offset-is-set-to-the-index-of-the-first-item-shown">.offset is set to the index of the first item shown</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span></pre>&#x000A;&#x000A;<h4 id=".last_shown-is-set-to-the-index-of-the-last-item-shown">.last_shown is set to the index of the last item shown</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">last_shown</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span></pre>&#x000A;&#x000A;<h4 id="does-not-change-the-cursor-position-for-the-underlying-scintilla">does not change the cursor position for the underlying scintilla</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'hello'</span><span class="w">&#x000A;&#x000A;</span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="w">&#x000A;</span><span class="n">l</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">sci</span><span class="o">\</span><span class="n">set_current_pos</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">l</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">sci</span><span class="o">\</span><span class="n">get_current_pos</span><span class="o">!</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;&#x000A;</span><span class="n">l</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">l</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">sci</span><span class="o">\</span><span class="n">document_end</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">l</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">sci</span><span class="o">\</span><span class="n">get_current_pos</span><span class="o">!</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="n">buf</span><span class="p">.</span><span class="n">text</span></pre>&#x000A;&#x000A;<h4 id=".nr_shown-is-set-to-the-amount-of-items-shown">.nr_shown is set to the amount of items shown</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">nr_shown</span><span class="w">&#x000A;&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">nr_shown</span></pre>&#x000A;&#x000A;<h4 id="all-properties-can-be-changed-after-initial-assignment">all properties can be changed after initial assignment</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'three'</span><span class="p">,</span><span class="w"> </span><span class="s1">'four'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'three\nfour\n'</span><span class="w">&#x000A;&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'Column 1'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Column 2'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'three'</span><span class="p">,</span><span class="w"> </span><span class="s1">'four'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="sh">[[&#x000A;Column 1 Column 2&#x000A;three    four&#x000A;]]</span></pre>&#x000A;&#x000A;<h4 id="resets-offset-when-items-are-reassigned">resets offset when items are reassigned</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">next_page</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'^one'</span></pre>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h2 id="clear">clear<span class="arg-list">()</span></h2>&#x000A;&#x000A;<h4 id="removes-a-rendered-list-from-the-buffer">removes a rendered list from the buffer</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'||'</span><span class="w">&#x000A;</span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">clear</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="s1">'||'</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span></pre>&#x000A;&#x000A;<h4 id="does-nothing-if-the-list-has-not-been-rendered-yet-or-was-empty">does nothing if the list has not been rendered yet or was empty</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'||'</span><span class="w">&#x000A;</span><span class="n">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nc">List</span><span class="w"> </span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">clear</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="s1">'||'</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="w">&#x000A;&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">clear</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="s1">'||'</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when .caption is set)</span></h3>&#x000A;&#x000A;<h4 id="shows-it-above-the-items">shows it above the items</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'first'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'This is a fine list:'</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="sh">[[&#x000A;This is a fine list:&#x000A;first&#x000A;]]</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when .offset is set)</span></h3>&#x000A;&#x000A;<h4 id="shows-items-starting-from-offset">shows items starting from offset</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'two\nthree'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">is_not</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one'</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when .max_height is set)</span></h3>&#x000A;&#x000A;<h4 id="with-only-.items-set-it-shows-only-up-to-max_height-items">with only .items set it shows only up to max_height items</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one\ntwo'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">is_not</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w">&#x000A;&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">math.huge</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one\ntwo\nthree\n'</span></pre>&#x000A;&#x000A;<h4 id="it-takes-caption-into-account-when-set">it takes caption into account when set</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">caption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'Two\nliner'</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">is_not</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span></pre>&#x000A;&#x000A;<h4 id="it-takes-headers-into-account-when-set">it takes headers into account when set</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'Takes up one line'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">is_not</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span></pre>&#x000A;&#x000A;<h4 id="displays-info-about-the-currently-shown-items">displays info about the currently shown items</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'showing 1 %- 2 out of 3'</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when items are not strings)</span></h3>&#x000A;&#x000A;<h4 id="automatically-converts-items-to-strings-using-tostring-before-displaying">automatically converts items to strings using tostring before displaying</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'1\n2\n'</span></pre>&#x000A;&#x000A;<h4 id="the-selection-is-still-the-raw-item">the selection is still the raw item</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">selection_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h2 id="styling">styling</h2>&#x000A;&#x000A;<h4 id="headers-are-styled-using-the-list_header-style">headers are styled using the list_header style</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'first'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'Column 1'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="s1">'list_header'</span></pre>&#x000A;&#x000A;<h4 id="columns-are-styled-using-the-styles-specified-in-.column_styles">columns are styled using the styles specified in .column_styles</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'first'</span><span class="p">,</span><span class="w"> </span><span class="s1">'second'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">column_styles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'whitespace'</span><span class="p">,</span><span class="w"> </span><span class="s1">'identifier'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="s1">'whitespace'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">),</span><span class="w"> </span><span class="s1">'identifier'</span></pre>&#x000A;&#x000A;<h4 id="column-styles-default-to-list.column_styles">column styles default to List.column_styles</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'first'</span><span class="p">,</span><span class="w"> </span><span class="s1">'second'</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="nc">List</span><span class="p">.</span><span class="n">column_styles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">),</span><span class="w"> </span><span class="nc">List</span><span class="p">.</span><span class="n">column_styles</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span></pre>&#x000A;&#x000A;<h4 id=".column_styles-can-be-customized-for-each-instance">.column_styles can be customized for each instance</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">column_styles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'custom'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">not_equal</span><span class="w"> </span><span class="s1">'custom'</span><span class="p">,</span><span class="w"> </span><span class="nc">List</span><span class="p">.</span><span class="n">column_styles</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span></pre>&#x000A;<div class="spec-group spec-group-3">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when .column_styles is a function)</span></h3>&#x000A;&#x000A;<h4 id="it-is-called-with-the-item,-row-and-column-and-the-returned-style-is-used">it is called with the item, row and column and the returned style is used</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">item</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'first'</span><span class="p">,</span><span class="w"> </span><span class="s1">'item'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">style_func</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="n">list_item</span><span class="p">,</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="n">column</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">&#x000A;  </span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list_item</span><span class="p">,</span><span class="w"> </span><span class="n">item</span><span class="w">&#x000A;  </span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">row</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;  </span><span class="n">column</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="s1">'line_number'</span><span class="w"> </span><span class="ow">or</span><span class="w"> </span><span class="s1">'bracelight'</span><span class="w">&#x000A;&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">item</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">column_styles</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">style_func</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">),</span><span class="w"> </span><span class="s1">'line_number'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">style</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">),</span><span class="w"> </span><span class="s1">'bracelight'</span></pre>&#x000A;</div>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when selection is enabled with .selection_enabled)</span></h3>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">before_each</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">&#x000A;  </span><span class="n">list</span><span class="p">.</span><span class="n">selection_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">&#x000A;  </span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;  </span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span></pre>&#x000A;&#x000A;<h4 id="selects-the-first-item-by-default">selects the first item by default</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'one'</span></pre>&#x000A;&#x000A;<h4 id=".selection-is-nil-for-an-empty-list">.selection is nil for an empty list</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">is_nil</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span></pre>&#x000A;&#x000A;<h4 id="highlights-the-selected-item-with-list_selection">highlights the selected item with list_selection</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">assert</span><span class="p">.</span><span class="n">same</span><span class="w"> </span><span class="n">highlight</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'list_selection'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">same</span><span class="w"> </span><span class="n">highlight</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">start_pos</span><span class="p">),</span><span class="w"> </span><span class="p">{}</span></pre>&#x000A;&#x000A;<h4 id="pads-lines-if-neccessary-to-achieve-a-uniform-selection-highlight">pads lines if neccessary to achieve a uniform selection highlight</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="n">buf</span><span class="p">.</span><span class="n">lines</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w"> </span><span class="o">#</span><span class="n">buf</span><span class="p">.</span><span class="n">lines</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span></pre>&#x000A;<div class="spec-group spec-group-3">&#x000A;&#x000A;<h3 id=".selection-=-&lt;item&gt;">.selection = &lt;item&gt;</h3>&#x000A;&#x000A;<h4 id="causes-&lt;item&gt;-to-be-selected">causes &lt;item&gt; to be selected</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'two'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span></pre>&#x000A;&#x000A;<h4 id="raises-an-error-if-&lt;item&gt;-can-not-be-found">raises an error if &lt;item&gt; can not be found</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">assert</span><span class="p">.</span><span class="n">raises</span><span class="w"> </span><span class="s1">'not found'</span><span class="p">,</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'five'</span></pre>&#x000A;&#x000A;<h4 id="can-be-set-before-the-list-shown">can be set before the list shown</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="n">clear</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'two'</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-3">&#x000A;&#x000A;<h3 id="select">select<span class="arg-list">(row)</span></h3>&#x000A;&#x000A;<h4 id="selects-the-specified-row">selects the specified row</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span></pre>&#x000A;&#x000A;<h4 id="highlights-the-new-selection-and-clears-any-old-highlight">highlights the new selection and clears any old highlight</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">same</span><span class="w"> </span><span class="n">highlight</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">),</span><span class="w"> </span><span class="p">{}</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">same</span><span class="w"> </span><span class="n">highlight</span><span class="p">.</span><span class="n">at_pos</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">lines</span><span class="p">[</span><span class="mi">2</span><span class="p">].</span><span class="n">start_pos</span><span class="p">),</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'list_selection'</span><span class="w"> </span><span class="p">}</span></pre>&#x000A;&#x000A;<h4 id="scrolls-the-list-if-needed">scrolls the list if needed</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span></pre>&#x000A;&#x000A;<h4 id="remembers-the-selected-row-if-set-before-showing">remembers the selected row if set before showing</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="n">clear</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-3">&#x000A;&#x000A;<h3 id="select_next">select_next<span class="arg-list">()</span></h3>&#x000A;&#x000A;<h4 id="selects-the-next-item">selects the next item</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="n">select_next</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span></pre>&#x000A;&#x000A;<h4 id="selects-the-first-item-if-at-the-end-of-the-list">selects the first item if at the end of the list</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">select_next</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'one'</span></pre>&#x000A;&#x000A;<h4 id="scrolls-to-the-next-item-if-neccessary">scrolls to the next item if neccessary</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">select_next</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-3">&#x000A;&#x000A;<h3 id="select_prev">select_prev<span class="arg-list">()</span></h3>&#x000A;&#x000A;<h4 id="selects-the-previous-item">selects the previous item</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">select_prev</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'one'</span></pre>&#x000A;&#x000A;<h4 id="selects-the-last-item-if-at-the-start-of-the-list">selects the last item if at the start of the list</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="n">select_prev</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span></pre>&#x000A;&#x000A;<h4 id="scrolls-so-that-the-previous-item-is-at-the-bottom-if-neccessary">scrolls so that the previous item is at the bottom if neccessary</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">,</span><span class="w"> </span><span class="s1">'four'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="nb">select</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">select_prev</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span></pre>&#x000A;</div>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h2 id="scroll_to">scroll_to<span class="arg-list">(row)</span></h2>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">before_each</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span></pre>&#x000A;&#x000A;<h4 id="does-not-change-offset-when-all-items-are-shown">does not change offset when all items are shown</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'one\ntwo\nthree\n'</span></pre>&#x000A;&#x000A;<h4 id="changes-the-offset-to-start-with-&lt;row&gt;-when-all-items-are-not-shown">changes the offset to start with &lt;row&gt; when all items are not shown</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'showing 2 %- 2 out of 3'</span></pre>&#x000A;&#x000A;<h4 id="selects-&lt;row&gt;-if-selection-is-enabled">selects &lt;row&gt; if selection is enabled</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">selection_enabled</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">selection</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span></pre>&#x000A;<div class="spec-group spec-group-3">&#x000A;&#x000A;<h3 id=""><span class="arg-list">(when the remaining numbers are fewer than the max nr of visible items)</span></h3>&#x000A;&#x000A;<h4 id="adjust-the-actual-offset-to-always-show-the-same-number-of-items">adjust the actual offset to always show the same number of items</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'two\nthree'</span></pre>&#x000A;&#x000A;<h4 id="accounts-for-headers-when-determining-the-new-offset">accounts for headers when determining the new offset</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">headers</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s1">'foo'</span><span class="w"> </span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">match</span><span class="w"> </span><span class="n">buf</span><span class="p">.</span><span class="n">text</span><span class="p">,</span><span class="w"> </span><span class="s1">'^foo\nthree'</span></pre>&#x000A;</div>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h2 id="next_page">next_page<span class="arg-list">()</span></h2>&#x000A;&#x000A;<h4 id="scrolls-to-the-next-page">scrolls to the next page</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">next_page</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span></pre>&#x000A;&#x000A;<h4 id="scrolls-to-the-first-page-if-at-the-end-of-the-list">scrolls to the first page if at the end of the list</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">next_page</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span></pre>&#x000A;</div>&#x000A;<div class="spec-group spec-group-2">&#x000A;&#x000A;<h2 id="prev_page">prev_page<span class="arg-list">()</span></h2>&#x000A;&#x000A;<h4 id="scrolls-to-the-previous-page">scrolls to the previous page</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">scroll_to</span><span class="w"> </span><span class="mi">3</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">prev_page</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span></pre>&#x000A;&#x000A;<h4 id="scrolls-to-the-last-page-if-at-the-start-of-the-list">scrolls to the last page if at the start of the list</h4>&#x000A;&#x000A;<pre class="highlight moonscript"><span class="n">list</span><span class="p">.</span><span class="n">items</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="s1">'one'</span><span class="p">,</span><span class="w"> </span><span class="s1">'two'</span><span class="p">,</span><span class="w"> </span><span class="s1">'three'</span><span class="p">}</span><span class="w">&#x000A;</span><span class="n">list</span><span class="p">.</span><span class="n">max_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">show</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">list</span><span class="o">\</span><span class="n">prev_page</span><span class="o">!</span><span class="w">&#x000A;</span><span class="n">assert</span><span class="p">.</span><span class="n">equal</span><span class="w"> </span><span class="n">list</span><span class="p">.</span><span class="n">offset</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span></pre>&#x000A;</div>&#x000A;</div>
      <div class='footer text-muted'>
        <a href='/'>
          <img width="50" height="50" class="footer-logo" src="/images/howl.png" />
        </a>
        <div class='footer-follow'>
          <p>
            <a class='twitter-follow-button' data-lang='en' data-show-count='false' href='https://twitter.com/howleditor' rel='me'>
              Follow @howleditor
            </a>
          </p>
          <p>
            <a class='twitter-share-button' data-count='none' data-hashtags='howleditor' data-lang='en' data-text='The Howl Editor, a general purpose, light-weight customizable editor.' data-url='http://howl.io' href='https://twitter.com/share'>
              Tweet
            </a>
          </p>
        </div>
        <div class='footer-blurb'>
          <div>The Howl editor.</div>
          <div>Copyright 2012-2014 Nils Nordman &lt;nino at nordman.org&gt;</div>
        </div>
      </div>
    </div>
    <script>
      <!-- / GA -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-45283282-1', 'howl.io');
      ga('send', 'pageview');
      <!-- / Twitter -->
      !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];
      if(!d.getElementById(id)){js=d.createElement(s);js.id=id;
      js.src="//platform.twitter.com/widgets.js";
      fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
    </script>
  </body>
</html>
